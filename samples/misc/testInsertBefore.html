<html>
<body>
<script language="javascript">
function testAppendChild(){
	var refElem = document.createElement("div");
	refElem.innerHTML = "I'm your reference!";

	var bodyElem = document.body;
	bodyElem.appendChild(refElem);
	alert(document.body.innerHTML);
     
	var newElem = document.createElement("div");
	newElem.innerHTML = "Just a sample";
	bodyElem.insertBefore(newElem, refElem);
	alert(document.body.innerHTML);

	bodyElem.insertBefore(newElem, refElem);
	alert(document.body.innerHTML);

	try {
		bodyElem.insertBefore(null, refElem);
	} catch(err) {
		alert("[ERROR] Attempting to insert null element");
	}

	try {
		bodyElem.insertBefore('randomstring', refElem);
	} catch(err) {
		alert("[ERROR] Attempting to insert an invalid element");
	}

	var fooElem = document.createElement("div");
	fooElem.innerHTML = "Foo";
	bodyElem.insertBefore(fooElem, null);
	alert(document.body.innerHTML);

	try {
        bodyElem.insertBefore(fooElem, 'randomstring');
	} catch(err) {
		alert("[ERROR] Attempting to insert using an invalid reference element");
	}

	var textElem = document.createTextNode("Hello World");
	bodyElem.insertBefore(textElem, fooElem);
	alert(document.body.innerHTML);

	var commentElem = document.createComment("Just a comment");
	try {
		bodyElem.insertBefore(commentElem, commentElem);
	} catch(e) {
		alert("[ERROR] Attempting to insert a text node using an invalid reference element");
	}

    bodyElem.insertBefore(commentElem, refElem);
}

testAppendChild();
</script>
<body id="foobar">
</body>
</html>
